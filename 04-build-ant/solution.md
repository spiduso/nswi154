# 04 - build

Hoang Anh Tuan

<hoang.dusan@gmail.com>

Deadline: 24.3.2024

Requirements:

- You do not have to protocol absolutely everything, such as 'cd' commands,
  'rm -rf' when the task tells you to do a 'rm -rf', 'vim file', etc.
- Include output of commands only when explicitly requested.
- You can write answers in Czech.

Useful links and help:

- <http://ant.apache.org/manual/index.html>
- <http://maven.apache.org/>
- <https://gradle.org/>
- <https://cmake.org/>

## Tasks

This assignment has five alternatives - Ant, Maven, MSBuild+NuGet, Gradle, and CMake.
You should pick just 1-2 based on your favorite platform and programming language.
Alternatively, it is also possible to create the build script (using either Ant, Maven, MSBuild, Gradle, or CMake) for your own program with similar complexity like those provided by me.
Send all the build scripts and configuration files along with a complete report.

Note that you can work on this assignment for 1-2 build tools.
If you submit two different build scripts, then it will be counted as two completed assignments.

The "ftp" directory contains two subdirectories: "src" with the sources of a very simple
FTP server and "lib" with few JAR files representing external dependencies (libraries).
The main class is "org.apache.ftpserver.commandline.CommandLine".

Ant: Write the Ant build script for the FTP server - the file "ftp/build.xml".

- Respect the common directory layout:
     src -> source files (.java)
     build -> class files
     lib -> third-party dependencies, libraries
- The build script must define the following targets: clean, build, dist, run.
- Specify classpaths using "filesets". All jar files in the "lib" directory
   must be included. However, do not enumerate individual jar files.
   (Hint: use wildcards properly)
- Use properties for directory names (paths).
- Specify reasonable dependencies between targets.
- The JAR file generated by the target "dist" must contain:
  - all class files generated by the Java compiler
  - manifest file with the attributes "Project" (use the value "FTP")
       and "BuildDate" (use the current date)
- Name of the JAR files must reflect the current date (e.g., "ftpserver-YYYYMMDD.jar").
- The "clean" target must remove the directory with class files and the JAR file.
- The "run" target should execute the compiled program such that its output is
   redirected into a file specified inside the build script.
- The "run" target should, before attempting to execute the program, check presence of the JAR file and whether the JAR file is up-to-date.
   If the JAR file does not exist, or when it is obsolete, then print some message and fail graciously.
- The "dist" target should also create a zip file that contains all the source files (and only them).
- The default target should be "build".
- Test the Ant build script by executing "ant clean" followed by "ant dist".
       Paste the output of Ant here.

| Ant output is located [here](https://github.com/spiduso/nswi154/blob/main/04-build-ant/ftp/ant.output)
## Survey

We use the survey to evaluate the labs (tasks) and homework assignments.
It is completely voluntary, but useful for future tuning of the content and level of complexity of the labs.
Most questions can be answered using the scale from 1 to 10.
Write your answer under the corresponding question.

(1) How new was the topic and content of the lab for you?
     (1 - brand new, 10 - I already knew everything)
- 1
(2) Do you think that the content of this lab was useful?
     (1 - useless or too trivial, 10 - very useful)
- 8
(3) How do you evaluate the level of complexity of the homework assignment?
     (1 - too trivial, 5-6 - just about right, 10 - too demanding or complex)
- 7
(4) How do you evaluate your prior experience with the tool in the context of the homework assignment?
     (1 - I already know and can use everything, 10 - I tried everything practically for the first time)
- 9
(5) How much time (in minutes) did you spend working on the homework assignment?
- 360
(6) Additional space for your own comments on the lab and homework assignment:
